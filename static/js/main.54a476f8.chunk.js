(this["webpackJsonpws-product-react"]=this["webpackJsonpws-product-react"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(14),s=n.n(a),r=(n(26),n(7)),i=n(3),o=(n(27),n(11)),l=n(17),u=n(15),j=n(18),h=n(1);var d=function(){return fetch.apply(void 0,arguments).then((function(e){return e.json()}))},p=function(e){return e.children},b=function(){return Object(h.jsxs)("div",{className:"loading",children:[Object(h.jsx)("span",{children:"Loading"}),Object(h.jsx)("img",{src:"/ws-product-react/loading.gif",alt:"..."})]})},O=function(){var e="https://vast-glass-iron.glitch.me",t=Object(c.useState)(0),n=Object(i.a)(t,2),a=n[0],s=n[1],O=Object(c.useState)(null),f=Object(i.a)(O,2),x=f[0],m=f[1],g=Object(c.useState)(null),v=Object(i.a)(g,2),y=v[0],w=v[1],S=Object(c.useState)(null),C=Object(i.a)(S,2),E=(C[0],C[1]),I=Object(c.useState)(0),N=Object(i.a)(I,2),D=N[0],L=N[1],k=Object(c.useState)(null),F=Object(i.a)(k,2),T=F[0],B=F[1],A=Object(c.useState)(null),M=Object(i.a)(A,2),G=M[0],P=M[1],z=Object(c.useState)(null),H=Object(i.a)(z,2),R=H[0],_=H[1],Z=Object(c.useState)(null),J=Object(i.a)(Z,2),K=J[0],U=J[1],W=Object(c.useState)("Line"),X=Object(i.a)(W,2),Y=X[0],q=X[1],V=Object(c.useState)(0),Q=Object(i.a)(V,2),$=Q[0],ee=Q[1];Object(c.useEffect)((function(){null===R&&fetch(e+"/events/hourly").then((function(e){return e.json()})).then((function(e){var t=[["Date","Events","Hour"]];e.forEach((function(e){t.push([new Date(e.date).toDateString(),parseInt(e.events),e.hour])})),_(t)})),null===K&&fetch(e+"/events/daily").then((function(e){return e.json()})).then((function(e){var t=[["Date","Events"]];e.forEach((function(e){t.push([new Date(e.date).toDateString(),parseInt(e.events)])})),U(t)})),null===T&&fetch(e+"/stats/hourly").then((function(e){return e.json()})).then((function(e){var t=[["date","hour","impressions","clicks","revenue"]];e.forEach((function(e){t.push([new Date(e.date).toDateString(),parseInt(e.hour),parseInt(e.impressions),parseInt(e.clicks),parseInt(e.revenue)])})),B(t)})),null===G&&fetch(e+"/stats/daily").then((function(e){return e.json()})).then((function(e){var t=[["date","impressions","clicks","revenue"]];e.forEach((function(e){t.push([new Date(e.date).toDateString(),parseInt(e.impressions),parseInt(e.clicks),parseInt(e.revenue)])})),P(t)})),null===x&&fetch(e+"/poi").then((function(e){return e.json()})).then((function(e){var t=[],n=[];e.forEach((function(e){t.push([{v:e.poi_id,f:e.poi_id.toString(),p:{style:""}},{v:e.name,f:e.name,p:{style:""}},{v:e.lat,f:e.lat.toString(),p:{style:""}},{v:e.lon,f:e.lon.toString(),p:{style:""}}]),n.push([e.lat,e.lon,e.name])})),w(t),m(t),E(n)}))}));var te=Object(c.useRef)(),ne=Object(c.useState)(null),ce=Object(i.a)(ne,2),ae=ce[0],se=ce[1],re=Object(c.useState)(10),ie=Object(i.a)(re,2),oe=ie[0],le=ie[1],ue=Object(u.a)("https://vast-glass-iron.glitch.me/poi",{fetcher:d}),je=ue.data,he=ue.error,de=(je&&!he?je.slice(0,2e3):[]).map((function(e){return{type:"Feature",properties:{cluster:!1,poiId:e.poi_id,name:e.name},geometry:{type:"Point",coordinates:[parseFloat(e.lon),parseFloat(e.lat)]}}})),pe=Object(l.a)({points:de,bounds:ae,zoom:oe,options:{radius:75,maxZoom:20}}),be=pe.clusters,Oe=pe.supercluster,fe={center:{lat:51.231487,lng:-99.306211},zoom:5};return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("ul",{className:"topNav",children:[Object(h.jsx)("li",{children:Object(h.jsx)("span",{children:"WS Product React"})}),["General Charts","Data Table","Geo Map"].map((function(e,t){return Object(h.jsx)("li",{children:Object(h.jsx)("input",{type:"button",value:e,className:a===t?"selectedButton":"",onClick:function(){s(t)}})},t)}))]}),Object(h.jsxs)("div",{className:"view ".concat(0!==a?"noNav":""),children:[0===a&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("ul",{className:"leftNav",children:[Object(h.jsx)("h3",{children:"Data Type"}),Object(h.jsxs)("li",{children:[Object(h.jsxs)("label",{className:0===D?"selectedButton":"",children:[Object(h.jsx)("input",{type:"radio",value:0,name:"dataType",onChange:function(e){L(0)}})," Events"]}),Object(h.jsxs)("label",{className:1===D?"selectedButton":"",children:[Object(h.jsx)("input",{type:"radio",value:1,name:"dataType",onChange:function(e){L(1)}})," Stats"]})]}),Object(h.jsx)("h3",{children:"Data Visual"}),["Line","Bar","LineChart","BarChart"].map((function(e,t){return Object(h.jsx)("li",{children:Object(h.jsx)("input",{type:"button",value:e,className:$===t?"selectedButton":"",onClick:function(){q(e),ee(t)}})},t)}))]}),Object(h.jsx)("div",{className:"dataContain",children:1===D?Object(h.jsxs)(h.Fragment,{children:[G?Object(h.jsx)(o.a,{chartType:Y,width:"96%",height:"400px",data:G,options:{explorer:{},chart:{title:"Events Daily"}}}):Object(h.jsx)(b,{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),R?Object(h.jsx)(o.a,{chartType:Y,width:"96%",height:"400px",data:T,options:{explorer:{},chart:{title:"Events Hourly"}}}):Object(h.jsx)(b,{})]}):Object(h.jsxs)(h.Fragment,{children:[K?Object(h.jsx)(o.a,{chartType:Y,width:"96%",height:"400px",data:K,options:{explorer:{},chart:{title:"Events Daily"}}}):Object(h.jsx)(b,{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),R?Object(h.jsx)(o.a,{chartType:Y,width:"96%",height:"400px",data:R,options:{explorer:{},chart:{title:"Events Hourly"}}}):Object(h.jsx)(b,{})]})})]}),1===a&&Object(h.jsx)(h.Fragment,{children:x&&x.length?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{type:"text",placeholder:"Search here...",onChange:function(e){!function(e){x.forEach((function(e){e.forEach((function(e){e.p.style=""}))}));var t=x.filter((function(t){return t[0].f.includes(e)||t[1].f.toLowerCase().includes(e)||t[2].f.includes(e)||t[3].f.includes(e)})),n=x.filter((function(t){return!t[0].f.includes(e)&&!t[1].f.toLowerCase().includes(e)&&!t[2].f.includes(e)&&!t[3].f.includes(e)}));t.length>0&&w((function(){var c=Object(r.a)(t);return e.length>0&&Object(r.a)(c).forEach((function(e){e.forEach((function(e){e.p.style="background-color:#baff9d;"}))})),[].concat(Object(r.a)(c),Object(r.a)(n))}))}(e.target.value.toLowerCase())}}),Object(h.jsx)(o.a,{chartType:"Table",width:"100%",height:"100%",data:[["Id","Name","Latitude","Longitude"]].concat(Object(r.a)(y)),options:{showRowNumber:!1,allowHtml:!0}})]}):Object(h.jsx)(b,{})}),2===a&&be&&Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(j.a,{bootstrapURLKeys:{key:"AIzaSyAKm8MCGBPYCd9mwXqXtHYf_vFM2BtglIA"},defaultCenter:fe.center,defaultZoom:fe.zoom,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var t=e.map;te.current=t},onChange:function(e){var t=e.zoom,n=e.bounds;le(t),se([n.nw.lng,n.se.lat,n.se.lng,n.nw.lat])},children:be.map((function(e){var t=Object(i.a)(e.geometry.coordinates,2),n=t[0],c=t[1],a=e.properties,s=a.cluster,r=a.point_count;return s?Object(h.jsx)(p,{lat:c,lng:n,children:Object(h.jsx)("div",{className:"cluster-marker",style:{width:"".concat(10+r/de.length*20,"px"),height:"".concat(10+r/de.length*20,"px")},onClick:function(){var t=Math.min(Oe.getClusterExpansionZoom(e.id),20);te.current.setZoom(t),te.current.panTo({lat:c,lng:n})},children:r})},"cluster-".concat(e.id)):Object(h.jsx)(p,{lat:c,lng:n,children:Object(h.jsxs)("button",{className:"poi-marker",children:[Object(h.jsx)("img",{src:"https://img.icons8.com/plasticine/100/000000/place-marker.png",alt:"poi doesn't pay"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:e.properties.name}),Object(h.jsx)("li",{children:"Latitude: "+c}),Object(h.jsx)("li",{children:"Longitude: "+n})]})]})},"poi-".concat(e.properties.poiId))}))})})]}),Object(h.jsx)("div",{className:"footer",children:Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:["My Github ",Object(h.jsx)("a",{href:"https://github.com/ahmadmarhaba",children:"Ahmad Marhaba"})," "]}),Object(h.jsxs)("li",{children:["Page ".concat(a+1," / 3")," "]})]})})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};s.a.createRoot(document.getElementById("root")).render(Object(h.jsx)(O,{})),f()}},[[31,1,2]]]);
//# sourceMappingURL=main.54a476f8.chunk.js.map